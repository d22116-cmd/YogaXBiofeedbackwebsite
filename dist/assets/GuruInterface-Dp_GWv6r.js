import{r as t,j as e,a as g}from"./index-JMJS0zV2.js";import{M as f,S as b,a as p}from"./gemini-DzllSCZv.js";import{A as j}from"./arrow-left-Bj6clq_K.js";const v=({guru:r,onBack:h})=>{const[i,c]=t.useState([{role:"model",text:`Greetings. I am your ${r}. How may I guide your practice today?`}]),[a,x]=t.useState(""),[n,m]=t.useState(!1),l=t.useRef(null);t.useEffect(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[i]);const u=async()=>{if(!a.trim()||n)return;const s={role:"user",text:a};c(d=>[...d,s]),x(""),m(!0);const o=await p(r,a,i);c(d=>[...d,{role:"model",text:o}]),m(!1)};return e.jsxs("div",{className:"fixed inset-0 z-[60] bg-white flex flex-col md:flex-row",children:[e.jsxs("div",{className:"md:w-80 border-r border-gray-100 p-6 flex flex-col bg-gray-50/50",children:[e.jsxs("button",{onClick:h,className:"flex items-center text-gray-500 hover:text-black mb-12 transition-colors",children:[e.jsx(j,{className:"w-5 h-5 mr-2"}),"Back to Platform"]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-3xl flex items-center justify-center text-indigo-600 mb-4",children:e.jsx(g,{className:"w-10 h-10"})}),e.jsx("h2",{className:"text-2xl font-bold",children:r}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Active Session: Mastery Level 4"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase mb-2",children:"Technique"}),e.jsx("p",{className:"font-medium",children:"Nadi Shodhana"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase mb-2",children:"Focus Mode"}),e.jsx("p",{className:"font-medium",children:"Parasympathetic"})]})]}),e.jsx("div",{className:"mt-auto",children:e.jsx("button",{className:"w-full py-4 bg-gray-900 text-white rounded-2xl font-semibold",children:"Start Live Practice"})})]}),e.jsxs("div",{className:"flex-1 flex flex-col relative h-full",children:[e.jsxs("div",{ref:l,className:"flex-1 overflow-y-auto p-6 space-y-6 pb-32",children:[i.map((s,o)=>e.jsx("div",{className:`flex ${s.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[80%] p-4 rounded-3xl ${s.role==="user"?"bg-indigo-600 text-white rounded-br-none shadow-lg":"bg-gray-100 text-gray-800 rounded-bl-none"}`,children:e.jsx("p",{className:"text-base leading-relaxed whitespace-pre-wrap",children:s.text})})},o)),n&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 p-4 rounded-3xl rounded-bl-none",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:0.2s]"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:0.4s]"})]})})})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-white via-white/95 to-transparent",children:e.jsxs("div",{className:"max-w-3xl mx-auto flex items-center space-x-4 bg-white border border-gray-200 rounded-full px-6 py-2 shadow-xl",children:[e.jsx("button",{className:"text-gray-400 hover:text-indigo-600",children:e.jsx(f,{className:"w-5 h-5"})}),e.jsx("input",{type:"text",value:a,onChange:s=>x(s.target.value),onKeyDown:s=>s.key==="Enter"&&u(),placeholder:`Speak to the ${r}...`,className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-800 placeholder-gray-400"}),e.jsx("button",{onClick:u,disabled:!a.trim()||n,className:"bg-indigo-600 text-white p-2 rounded-full hover:bg-indigo-700 disabled:bg-gray-200 transition-colors",children:e.jsx(b,{className:"w-4 h-4"})})]})})]})]})};export{v as default};
